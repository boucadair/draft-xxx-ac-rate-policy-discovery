



scone                                                       M. Boucadair
Internet-Draft                                                    Orange
Intended status: Standards Track                                 D. Wing
Expires: 19 May 2025                                Cloud Software Group
                                                                T. Reddy
                                                                   Nokia
                                                          S. Rajagopalan
                                                    Cloud Software Group
                                                            L. Contreras
                                                              Telefonica
                                                        15 November 2024


                        SCONE Solution Analysis
                    draft-brw-scone-analysis-latest

Abstract

   This document provides an analysis of various SCONE solutions.

Discussion Venues

   This note is to be removed before publishing as an RFC.

   Source for this draft and an issue tracker can be found at
   https://github.com/boucadair/draft-xxx-ac-rate-policy-discovery.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at https://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 19 May 2025.

Copyright Notice

   Copyright (c) 2024 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents (https://trustee.ietf.org/
   license-info) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Revised BSD License text as
   described in Section 4.e of the Trust Legal Provisions and are
   provided without warranty as described in the Revised BSD License.

Table of Contents

   1.  Introduction
   2.  Criteria Classification
   3.  Detailed Analysis
     3.1.  Summary
     3.2.  MASQUE (to be completed by the authors of MASQUE)
       3.2.1.  Key Idea
       3.2.2.  Discussion
     3.3.  NRLP
       3.3.1.  Key Idea
       3.3.2.  Discussion
     3.4.  SCONE (to be completed by the authors of SCONE)
       3.4.1.  Key Idea
       3.4.2.  Discussion
     3.5.  TRAIN (to be completed by the authors of TRAIN)
       3.5.1.  Key Idea
       3.5.2.  Discussion
   4.  Security Considerations
   5.  IANA Considerations
   6.  References
     6.1.  Normative References
     6.2.  Informative References
   Authors' Addresses

1.  Introduction

   The document provides an analysis of proposed SCONE solutions.  The
   currently analyzed solutions (listed in alphabetic order) are as
   follows:

   MASQUE:  "MASQUE extension for signaling throughput advice"
      [I-D.ihlar-scone-masque-mediabitrate]

      See Section 3.2.

   NRLP:  "Discovery of Network Rate-Limit Policies (NRLPs)"
      [I-D.brw-scone-rate-policy-discovery]

      See Section 3.3.

   SCONE:  "A new QUIC version for network property communication"
      [I-D.joras-scone-quic-protocol]

      See Section 3.4.

   TRAIN:  "Transparent Rate Adaptation Indications for Networks (TRAIN)
      Protocol" [I-D.thomson-scone-train-protocol]

      See Section 3.5.

2.  Criteria Classification

   The following criteria are used to classify the various criteria:

   Security (Sec):  Indicates whether this impact security/privacy.
      Some of the criteria that are classified a security-related may
      also have implications on the efficiency of sharing an advice (as
      that is likely to be ignored).

   Deployability (Dep):  Captures a criteria that is important for
      unlocking the deployment of a solution at both network and host
      sides.

   Performance (Per):  May impact the performance of the network device
      that enables the solution and/or the performance of the flow.

   Service Interference (Int):  Captures implications on other services
      (e.g., side effects).  For example, tweaking MTU may have an
      implication on all the flows that share the same network
      attachment, not only those that consumes an advice.  Likewise,
      requiring address sharing has a plenty of issues that are
      discussed in [RFC6269].  Alos, relying upon an explicit proxy
      would penalize the proxy which could serve both good and 'bad'
      clients (e.g., launching Layer 7 DDoS attacks).

   Functional (Fun):  Characterizes the functional capabilities offered
      by activating a solution.

   A criterion may belong to one or more categories.

       +=============================+=====+=====+=====+=====+=====+
       |                    Criteria | Sec | Dep | Per | Int | Fun |
       +=============================+=====+=====+=====+=====+=====+
       | Guard against random advice |  X  |     |     |     |     |
       |                   injection |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |     Mobility (guard against |  X  |     |     |     |  X  |
       |           changing 5-tuple) |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |  Require guards against app |  X  |     |     |     |  X  |
       |                       abuse |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |                Fate sharing |     |  X  |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |        Atomic configuration |     |  X  |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |      Updatability/Proactive |     |     |     |     |  X  |
       |                  signalling |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |    Integration with network |     |  X  |     |     |     |
       |            management tools |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       | Applicable to any transport |     |     |     |     |  X  |
       |                    protocol |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |          Applicable to QUIC |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       |           Applicable to any |     |     |     |     |  X  |
       |                 application |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |           Require an OS API |     |  X  |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |                Requires PvD |     |  X  |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |            Support cascaded |     |     |     |     |  X  |
       |                environments |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |      Path coupled signaling |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       |    Path decoupled signaling |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       |     Traffic direction (h2n, |     |     |     |     |  X  |
       |                  n2h, both) |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |           Per-host policies |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       |     Per-subscriber policies |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       |                  Extendable |     |     |     |     |  X  |
       +-----------------------------+-----+-----+-----+-----+-----+
       | Require data plane upgrade/ |     |  X  |     |     |     |
       |                      change |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |   Require transport payload |     |  X  |     |     |     |
       |        inspection (network) |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |   Require transport payload |     |  X  |     |     |     |
       |           inspection (host) |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |   Require steering policies |     |  X  |     |     |     |
       |                 on the host |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |     Depend on the server to |     |  X  |     |     |     |
       |          consume the signal |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       | Impact the connection setup |     |     |     |     |  X  |
       |                       delay |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       | Require the identity of the |  X  |     |     |     |  X  |
       |               target server |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |        Require MTU tweaking |     |  X  |     |  X  |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |           Incur multi-layer |     |  X  |  X  |     |     |
       |                  encryption |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |     Incur nested congestion |     |  X  |  X  |     |     |
       |                     control |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |  Incur multiple round-trips |     |  X  |  X  |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       | Overhead of unauthenticated |     |  X  |  X  |     |     |
       |               re-encryption |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |       Forwarding peformance |     |  X  |  X  |  X  |     |
       |                      impact |     |     |     |     |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |   IP address sharing issues |     |  X  |     |  X  |     |
       +-----------------------------+-----+-----+-----+-----+-----+
       |        Penalizing the proxy |     |  X  |     |  X  |     |
       +-----------------------------+-----+-----+-----+-----+-----+

                      Table 1: Criteria Classification

3.  Detailed Analysis

3.1.  Summary

      +=============================+========+======+=======+=======+
      |                    Criteria | MASQUE | NRLP | SCONE | TRAIN |
      +=============================+========+======+=======+=======+
      | Guard against random advice |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                   injection |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |     Mobility (guard against |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |           changing 5-tuple) |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |  Require guards against app |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                       abuse |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |                Fate sharing |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |        Atomic configuration |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |      Updatability/Proactive |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                  signalling |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |    Integration with network |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |            management tools |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      | Applicable to any transport |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                    protocol |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |          Applicable to QUIC |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |           Applicable to any |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                 application |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |           Require an OS API |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |                Requires PvD |  Y/N   | Y(*) |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |            Support cascaded |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                environments |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |      Path coupled signaling |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |    Path decoupled signaling |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |     Traffic direction (h2n, |  Y/N   |  Y   |  Y/N  |  Y/N  |
      |                  n2h, both) |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |           Per-host policies |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |     Per-subscriber policies |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |                  Extendable |  Y/N   |  Y   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      | Require data plane upgrade/ |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                      change |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |   Require transport payload |  Y/N   |  N   |  Y/N  |  Y/N  |
      |        inspection (network) |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |   Require transport payload |  Y/N   |  N   |  Y/N  |  Y/N  |
      |           inspection (host) |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |   Require steering policies |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                 on the host |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |     Depend on the server to |  Y/N   |  N   |  Y/N  |  Y/N  |
      |          consume the signal |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      | Impact the connection setup |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                       delay |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      | Require the identity of the |  Y/N   |  N   |  Y/N  |  Y/N  |
      |               target server |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |        Require MTU tweaking |  Y/N   |  N   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |           Incur multi-layer |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                  encryption |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |     Incur nested congestion |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                     control |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |  Incur multiple round-trips |  Y/N   |  N   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      | Overhead of unauthenticated |  Y/N   |  N   |  Y/N  |  Y/N  |
      |               re-encryption |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |       Forwarding peformance |  Y/N   |  N   |  Y/N  |  Y/N  |
      |                      impact |        |      |       |       |
      +-----------------------------+--------+------+-------+-------+
      |   IP address sharing issues |  Y/N   |  N   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+
      |        Penalizing the proxy |  Y/N   |  N   |  Y/N  |  Y/N  |
      +-----------------------------+--------+------+-------+-------+

                         Table 2: Analysis Summary

3.2.  MASQUE (to be completed by the authors of MASQUE)

3.2.1.  Key Idea

3.2.2.  Discussion

3.3.  NRLP

3.3.1.  Key Idea

   NRLP leverages existing discovery mechanisms (DHCP, RA, PvD) for
   networks to advertise throughout advices.  The same generic blob is
   used independent of the signaling mechanism.  NRLP operates within
   the existing network/host trust model.

   Also, NRLP does not introduce additional dependency that would hinder
   having the benefits of enabling the NRLP feature.

3.3.2.  Discussion

   Only network elements that are entitled to send DHCP/RA/PvD
   configuration are allowed to share the throughput advices.  As such,
   NRLP has built-in:

   *  Guard against random advice injection

   Taking into account that NRLP advices are bound to a traffic
   category, NLRP relies upon the OS to enforce the received policies
   for applications falling under a traffic category (or all traffic).
   In doing so, NRLP adheres to the following:

   *  Mobility (guard against changing 5-tuple)

   *  Require guards against app abuse: The OS can allocate network
      resources more fairly among different processes, with NRLP
      signals, ensuring that no single process monopolizes the network.

   NRLP meets the following criteria:

   *  Fate sharing: RA/DHCP are needed anyway so that connectivity is
      provided over a network attachment.  NRLP ensures that throughput
      advices shares the fare of the other network configuration on the
      host.

   *  Atomic configuration: Only one packet (e.g., RA) is required to
      share the advice.  Also, only a specific portion of the
      configuration can be provided.

   *  Updatability/Proactive signaling: It is possible to change the
      policy at any time and notify hosts (e.g., by sending a new RA).

   Given that NRLP advices are shared during the establishment of a
   network attachment and then as part of the maintenance of the
   attachment, NRLP is therefore:

   *  Applicable to any transport protocol: This allows specifically to
      ensure a feature parity for applications that fallback to another
      transport protocol (e.g., QUIC to TCP).

   *  Applicable to QUIC

   *  Applicable to any application

   To that aim aim, NRLP:

   *  Requires an OS API to expose the signal to applications, and
      ensure application fairness: An OS can provide more accurate
      available bandwidth to applications through the API, making
      implementation easier for applications that don't require
      dedicated bandwidth measurement.

   NRLP leverages existing mechanisms for the provisioning of network
   attachments, including supply of the various policies
   ([I-D.ietf-opsawg-ntw-attachment-circuit]).  Also, NRLP leverages AAA
   mechanisms (e.g., [RFC9445]).  Therefore, NRLP eases:

   *  Integration with network management tools

   One of NRLP flavors:

   *  Requires PvD discovery.  This is not required for DHCP/RA.

   NRLP does not restrict the deployment options as providers can deploy
   distributed or centralized DHCP servers, use relays, enable NRLP RA
   in access routers, etc.  Similar to other network configuration
   purposes, NRLP has the following capabilities:

   *  Support cascaded environments.  The throuput advice can even be
      correlated with local conditions or policies as shown, e.g., in
      Figure 1.

   *  Path coupled signaling

   *  Path decoupled signaling

           .------.                      .--------------------.
           | Host +---+     .---.        |                    |
           |  #1  |   |     |   |        |                    |
           '------'   +-----+ C |        |                    |
                    nrlp#2  | P +--------+      Network       |
           .------.   .-----+ E | nrlp#1 |                    |
           | Host |   |     |   |        |                    |
           |  #2  +---'     '---'        |                    |
           '------' nrlp#3               |                    |
                                         '--------------------'

                    Figure 1: Example of Cascaded NRLPs

   The same generic blob is used in NRLP independent of the signaling
   mechanism.  The blob is designed with the following key
   characteristics:

   *  Traffic direction (h2n, n2h, both): policies for one or both
      directions can be supplied.

   *  Per-host policies: An explicit indication in inserted in the
      advice to tag per-host policies.

   *  Per-subscriber policies: An explicit indication in inserted in the
      advice to tag per-subscriber policies.  This covers deployment
      scenarios such as tethering or CPE-based service offerings.

   *  Provide provisions for extensions: NLRP includes provisions for
      future attributes that are tracked in IANA registries.

   Given that NRLP leverages existing control plane mechanisms, NRLP
   does not:

   *  Require data plane upgrade/change

   *  Require transport payload inspection (network)

   *  Require transport payload inspection (host)

   Also, given that NRLP signals are exchanged before connection
   establishment, NRLP does not:

   *  Depend on the server to consume the signal: NRLP advices are
      immediately consumable by applications and do not require
      involving a remote server.

   *  Require the identity of the target server to receive or consume
      the advices.

   Moreover, NRLP does require any encapsulation or proxy function at
   the network.  As such, NRLP does not:

   *  Require steering policies on the host to decide which flows are
      eligible to the proxy service.

   *  Impact the connection setup delay: NRLP signals are available on
      bootstrap of a host (and prior to any connection establishment).

   *  Require MTU tweaking

   *  Incur multi-layer encryption

   *  Incur nested congestion control

   *  Incur multiple round-trips: The signal is immediately available in
      one packet (RA NRLP, typically).

   *  Overhead of unauthenticated re-encryption

   *  Forwarding performance impact

   *  IP address sharing issues: NRLP does not require changing the
      source IP address used by a host.

   *  Penalize any network node (a proxy, typically) which could serve
      bothgood and bad clients (e.g., launching Layer 7 DDoS attacks).

3.4.  SCONE (to be completed by the authors of SCONE)

3.4.1.  Key Idea

3.4.2.  Discussion

3.5.  TRAIN (to be completed by the authors of TRAIN)

3.5.1.  Key Idea

3.5.2.  Discussion

4.  Security Considerations

   Security-related criteria are analyzed for each proposed solution.

5.  IANA Considerations

   This document does not make any IANA request.

6.  References

6.1.  Normative References

   [I-D.brw-scone-rate-policy-discovery]
              Boucadair, M., Wing, D., Reddy.K, T., Rajagopalan, S.,
              Mishra, G. S., Amend, M., and L. M. Contreras, "Discovery
              of Network Rate-Limit Policies (NRLPs)", Work in Progress,
              Internet-Draft, draft-brw-scone-rate-policy-discovery-00,
              8 October 2024, <https://datatracker.ietf.org/doc/html/
              draft-brw-scone-rate-policy-discovery-00>.

   [I-D.ihlar-scone-masque-mediabitrate]
              Ihlar, L. M. and M. Kühlewind, "MASQUE extension for
              signaling throughput advice", Work in Progress, Internet-
              Draft, draft-ihlar-scone-masque-mediabitrate-01, 21
              October 2024, <https://datatracker.ietf.org/doc/html/
              draft-ihlar-scone-masque-mediabitrate-01>.

   [I-D.joras-scone-quic-protocol]
              Joras, M. and L. M. Ihlar, "A new QUIC version for network
              property communication", Work in Progress, Internet-Draft,
              draft-joras-scone-quic-protocol-00, 21 October 2024,
              <https://datatracker.ietf.org/doc/html/draft-joras-scone-
              quic-protocol-00>.

   [I-D.thomson-scone-train-protocol]
              Thomson, M., Huitema, C., and K. Oku, "Transparent Rate
              Adaptation Indications for Networks (TRAIN) Protocol",
              Work in Progress, Internet-Draft, draft-thomson-scone-
              train-protocol-00, 14 October 2024,
              <https://datatracker.ietf.org/doc/html/draft-thomson-
              scone-train-protocol-00>.

6.2.  Informative References

   [I-D.ietf-opsawg-ntw-attachment-circuit]
              Boucadair, M., Roberts, R., de Dios, O. G., Barguil, S.,
              and B. Wu, "A Network YANG Data Model for Attachment
              Circuits", Work in Progress, Internet-Draft, draft-ietf-
              opsawg-ntw-attachment-circuit-14, 7 November 2024,
              <https://datatracker.ietf.org/doc/html/draft-ietf-opsawg-
              ntw-attachment-circuit-14>.

   [RFC6269]  Ford, M., Ed., Boucadair, M., Durand, A., Levis, P., and
              P. Roberts, "Issues with IP Address Sharing", RFC 6269,
              DOI 10.17487/RFC6269, June 2011,
              <https://www.rfc-editor.org/rfc/rfc6269>.

   [RFC9445]  Boucadair, M., Reddy.K, T., and A. DeKok, "RADIUS
              Extensions for DHCP-Configured Services", RFC 9445,
              DOI 10.17487/RFC9445, August 2023,
              <https://www.rfc-editor.org/rfc/rfc9445>.

Authors' Addresses

   Mohamed Boucadair
   Orange
   Email: mohamed.boucadair@orange.com


   Dan Wing
   Cloud Software Group Holdings, Inc.
   United States of America
   Email: danwing@gmail.com


   Tirumaleswar Reddy
   Nokia
   India
   Email: kondtir@gmail.com


   Sridharan Rajagopalan
   Cloud Software Group Holdings, Inc.
   United States of America
   Email: sridharan.girish@gmail.com


   Luis M. Contreras
   Telefonica
   Spain
   Email: luismiguel.contrerasmurillo@telefonica.com
